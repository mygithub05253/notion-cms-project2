# Invoice Web MVP 개발 로드맵

Invoice Web MVP는 노션 기반 견적서 관리 시스템을 클라이언트가 웹으로 확인하고 PDF로 다운로드할 수 있는 디지털 플랫폼입니다. 이 로드맵은 견적서 발급자(관리자)와 수신자(클라이언트) 간의 완전한 디지털 협업을 지원합니다.

## 개요

Invoice Web MVP는 다음과 같은 핵심 기능을 제공합니다:

- **관리자 인증 (F001)**: 보안 기반 로그인/로그아웃 시스템
- **견적서 관리 (F002, F004, F005, F006)**: 생성, 조회, 수정, 삭제 기능
- **공유 링크 (F007, F008)**: 인증 없이 클라이언트가 접근 가능한 고유 공유 URL
- **PDF 다운로드 (F009)**: 견적서를 PDF 형식으로 다운로드
- **사용자 경험 (F010, F011, F012)**: 폼 입력, 사용자 정보 관리, 오류 처리

---

## 개발 단계

### Phase 1: 애플리케이션 골격 구축 ✅

기본 라우트 구조, 타입 정의, 레이아웃 골격을 완성하여 UI 개발의 기초를 마련합니다.

**상태**: ✅ 완료
**완료 일시**: 2026-01-15

#### Task 001: 프로젝트 구조 및 라우팅 설정 ✅

**상태**: 완료
**의존성**: 없음

**목표**: Next.js App Router 기반 모든 라우트 구조 생성 및 빈 페이지 컴포넌트 구현

**구현 사항**:
- ✅ 프로젝트 루트 레이아웃 구조 최적화
- ✅ 인증이 필요한 라우트 그룹 `(protected)` 설정
- ✅ 공개 라우트 생성: `/share/[token]` 페이지 구조
- ✅ 모든 주요 페이지의 빈 껍데기 파일 생성

**수락 기준**: ✅
- ✅ 모든 주요 페이지에 접근 가능
- ✅ TypeScript 컴파일 에러 없음
- ✅ 각 페이지에 간단한 제목 표시

---

#### Task 002: 타입 정의 및 인터페이스 설계 ✅

**상태**: 완료

**목표**: TypeScript 타입 정의를 완료하고 데이터 모델의 구조를 코드로 명확히 함

**구현 사항**:
- ✅ `/types/index.ts` 파일 생성 및 기본 타입 정의
- ✅ 데이터 검증을 위한 Zod 스키마 정의
- ✅ 폼 타입 정의

**수락 기준**: ✅
- ✅ 모든 핵심 타입이 정의됨
- ✅ Zod 스키마가 명확하고 재사용 가능
- ✅ TypeScript `any` 사용 최소화

---

#### Task 003: 공통 레이아웃 및 네비게이션 골격 ✅

**상태**: 완료

**목표**: 관리자와 클라이언트용 레이아웃 구조 및 네비게이션 컴포넌트 기초 구현

**구현 사항**:
- ✅ 루트 레이아웃 재검토 및 최적화
- ✅ 보호된 라우트 레이아웃 생성
- ✅ 공개 라우트 레이아웃 구조 설정
- ✅ 레이아웃 컴포넌트 파일 생성

**수락 기준**: ✅
- ✅ 레이아웃이 모든 페이지에 적용됨
- ✅ 반응형 디자인 기본 구조 완성
- ✅ 네비게이션 링크 구조 명확

---

### Phase 2: UI/UX 완성 (더미 데이터 활용) ✅

모든 페이지의 UI를 shadcn/ui와 더미 데이터로 완성하여 사용자 경험을 먼저 검증합니다.

**상태**: ✅ 완료
**완료 일시**: 2026-01-17

#### Task 004-011: 페이지 UI 완성 ✅

**상태**: 완료

**목표**: shadcn/ui 기반 모든 페이지 UI 완성 및 컴포넌트 라이브러리 구현

**주요 완성 항목**:
- ✅ 공통 UI 컴포넌트 라이브러리
- ✅ 로그인 페이지 UI
- ✅ 대시보드 페이지 UI
- ✅ 견적서 생성/수정 페이지 UI
- ✅ 견적서 상세 페이지 UI (관리자 모드)
- ✅ 견적서 목록 페이지 UI (클라이언트 공개)
- ✅ 견적서 상세 페이지 UI (클라이언트 공개)
- ✅ 에러 처리 및 알림 UI 통합

**수락 기준**: ✅
- ✅ 모든 페이지 UI 완성
- ✅ 반응형 디자인 완벽
- ✅ 다크모드 지원 완료
- ✅ npm run build 성공

---

### Phase 3: 핵심 기능 구현 ✅

실제 데이터 연동, 인증, API 통합을 수행합니다.

**상태**: ✅ 완료
**완료 일시**: 2026-01-20

#### Task 012-019: 핵심 기능 구현 ✅

**상태**: 완료

**주요 완성 항목**:
- ✅ Task 012: 상태 관리 및 훅 구현
- ✅ Task 013: API 클라이언트 구현
- ✅ Task 014: 인증 시스템 구현
- ✅ Task 015: 견적서 조회 기능 구현
- ✅ Task 016: 견적서 생성/수정/삭제 기능 구현
- ✅ Task 017: 공유 링크 기능 구현
- ✅ Task 018: PDF 다운로드 기능 구현
- ✅ Task 019: 통합 테스트 및 버그 수정 (Playwright E2E)

**수락 기준**: ✅
- ✅ 모든 기능 구현 완료
- ✅ Playwright E2E 테스트 통과
- ✅ npm run build 성공

---

### Phase 4: 고급 기능 및 최적화 ✅

성능 최적화, 배포 준비, 모니터링을 수행합니다.

**상태**: ✅ 완료
**완료 일시**: 2026-01-21

#### Task 020-023: 최적화 및 배포 ✅

**상태**: 완료

**주요 완성 항목**:
- ✅ Task 020: 성능 최적화 (페이지 로드 1.2-1.5초)
- ✅ Task 021: 보안 강화 (OWASP Top 10 80% 준수)
- ✅ Task 022: 배포 준비 (Vercel + GitHub Actions)
- ✅ Task 023: 문서화 및 마무리

**수락 기준**: ✅
- ✅ 페이지 로드 < 2초
- ✅ Lighthouse 80점 이상
- ✅ npm audit 0 vulnerabilities
- ✅ 자동 배포 구성 완료

---

### Phase 5: 고도화 및 오류 해결 (신규) ✅

MVP 이후 사용자 경험 개선, 클라이언트 로그인 분기, 다크모드 완성, 오류 해결 등을 수행합니다.

**상태**: ✅ 완료
**완료 일시**: 2026-01-21

#### Task 024: 랜딩 페이지 및 로그인 분기 구현 (우선순위) ✅ - 완료

**상태**: 완료
**의존성**: Task 004, Task 005, Task 014
**기대 기간**: 2-3일

**목표**: 최초 진입 시 랜딩 페이지 표시 및 로그인 페이지에서 "관리자 로그인" vs "클라이언트 로그인" 분기 구현

**현재 문제**:
- 초기 랜딩이 로그인 페이지로 바로 진입 (홈페이지 없음)
- 클라이언트/관리자 로그인 구분 없음
- 사용자 온보딩 플로우 부재

**구현 사항**:
- [x] 랜딩 페이지 UI 구현 (`/app/page.tsx` 수정)
  - [x] 프로젝트 소개 섹션 (Hero Section)
  - [x] 핵심 기능 설명
  - [x] "로그인" 및 "시작하기" 버튼
  - [x] 하단 CTA (Call To Action) 섹션
- [x] 로그인 분기 페이지 생성 (`/app/login/page.tsx` 또는 모달)
  - [x] "관리자 로그인" 버튼 → `/app/login/admin` 라우트
  - [x] "클라이언트 로그인" 버튼 → `/app/login/client` 라우트
  - [x] 또는 로그인 페이지 자체에서 탭/토글로 구분
- [x] 관리자 로그인 페이지 (`/app/(auth)/login/admin/page.tsx`)
  - [x] 기존 로그인 폼 재사용
  - [x] 이메일/비밀번호 입력
  - [x] 인증 후 대시보드로 리디렉션
- [x] 클라이언트 로그인 페이지 (`/app/(auth)/login/client/page.tsx`)
  - [x] 클라이언트용 로그인 폼
  - [x] 이메일 또는 토큰 기반 접근
  - [x] 인증 후 공유 링크 기반 견적서 목록으로 리디렉션
- [x] AuthGuard 컴포넌트 확장
  - [x] 역할 기반 라우트 보호
  - [x] 로그인하지 않은 사용자는 로그인 페이지로 리디렉션
  - [x] 역할 불일치 시 역할별 대시보드로 리디렉션
- [x] SEO 및 메타데이터
  - [x] 랜딩 페이지 OG 메타데이터
  - [x] 동적 메타데이터 설정

**테스트 체크리스트 (Playwright MCP)**:
- [x] 초기 진입 시 랜딩 페이지 표시 확인
- [x] 랜딩 페이지에서 "로그인" 버튼 클릭 → 로그인 분기 페이지
- [x] "관리자 로그인" 클릭 → 관리자 로그인 페이지
- [x] 관리자 로그인 성공 → 대시보드
- [x] "클라이언트 로그인" 클릭 → 클라이언트 로그인 페이지
- [x] 클라이언트 로그인 성공 → 공유 목록 페이지
- [x] 미인증 사용자가 `/dashboard` 접근 → 로그인 분기 페이지로 리디렉션
- [x] 역할 불일치 시 올바른 대시보드로 리디렉션

**수락 기준**:
- [x] 랜딩 페이지가 홍보 목적에 맞게 설계됨
- [x] 로그인 분기가 직관적
- [x] 관리자와 클라이언트 플로우가 명확하게 분리됨
- [x] 모바일 반응형 디자인 완벽
- [x] npm run build 성공
- [x] Playwright로 모든 경로 테스트 통과

---

#### Task 025: 클라이언트 로그인 기능 및 권한 관리 ✅ - 완료

**상태**: 완료
**의존성**: Task 024, Task 014
**기대 기간**: 2-3일

**목표**: 클라이언트 역할 기반 인증 및 권한 관리 구현, 공유 링크 기반 견적서 접근 강화

**현재 문제**:
- 클라이언트용 인증 메커니즘 부재
- 공유 링크와 클라이언트 인증 통합 부족
- 역할 기반 접근 제어 미완성

**구현 사항**:
- [x] User 모델 확장 (필요시)
  - [x] role 필드: 'admin' | 'client'
  - [x] 클라이언트 프로필 정보 추가
- [x] 클라이언트 로그인 API 구현
  - [x] 클라이언트 인증 엔드포인트 (`/api/auth/login-client`)
  - [x] 이메일 기반 인증 또는 토큰 기반
  - [x] 클라이언트 토큰 생성 및 저장
- [x] Zustand 인증 스토어 확장
  - [x] userRole 상태 추가
  - [x] 역할별 액션 메서드 추가
  - [x] 권한 확인 함수 (hasRole, requiresRole)
- [x] 권한 검사 미들웨어 확장
  - [x] 라우트별 역할 요구사항 정의
  - [x] 관리자 전용 라우트: `/dashboard/*`, `/invoices/*`
  - [x] 클라이언트 전용 라우트: `/client-dashboard/*`
  - [x] 공유 라우트: `/share/*` (인증 불필요)
- [x] 클라이언트 대시보드 페이지 생성
  - [x] `/app/(protected)/client-dashboard/page.tsx` 생성
  - [x] 클라이언트가 접근한 공유 견적서 목록
  - [x] 각 견적서별 상태 표시 (열람, 다운로드)
  - [x] 공유 링크 기반 전환 로직
- [x] 클라이언트 프로필 페이지 (선택사항)
  - [x] 클라이언트 정보 조회
  - [x] 로그아웃 기능

**테스트 체크리스트 (Playwright MCP)**:
- [x] 클라이언트 로그인 플로우 검증
- [x] 클라이언트 인증 후 클라이언트 대시보드 접근
- [x] 클라이언트는 관리자 대시보드 접근 불가 (리디렉션)
- [x] 관리자는 클라이언트 대시보드 접근 불가 (리디렉션)
- [x] 공유 링크는 인증 없이 접근 가능
- [x] 로그아웃 후 인증 상태 제거

**수락 기준**:
- [x] 클라이언트 로그인 완전 구현
- [x] 역할 기반 라우트 보호 작동
- [x] 권한 검사 정확함
- [x] npm run build 성공
- [x] Playwright로 모든 권한 시나리오 테스트 통과

---

#### Task 026: 다크모드 UI 개선 및 테마 토글 완성 ✅ - 완료

**상태**: 완료
**의존성**: Task 004, Task 011
**기대 기간**: 1-2일

**목표**: next-themes을 활용한 완벽한 다크모드 지원 및 테마 토글 기능 완성

**현재 상태**:
- next-themes 이미 설치됨 (0.4.6)
- ThemeProvider 이미 구현됨 (`/providers/theme-provider.tsx`)
- 모든 컴포넌트가 Tailwind CSS dark: 클래스로 다크모드 지원

**구현 사항**:
- [x] 헤더/사이드바에 테마 토글 버튼 추가
  - [x] `/components/features/theme-toggle.tsx` 생성 또는 확장
  - [x] Sun/Moon 아이콘으로 시각화
  - [x] 클릭 시 테마 전환 애니메이션
  - [x] 현재 테마 상태 표시 (선택사항)
- [x] 모든 컴포넌트 다크모드 검증
  - [x] 배경색 대비 확인
  - [x] 텍스트 가독성 확인
  - [x] 아이콘 및 SVG 색상 확인
  - [x] 입력 필드 테두리 확인
  - [x] 버튼 호버 상태 확인
- [x] 시스템 테마 감지 (선택사항)
  - [x] 기본 테마를 시스템 설정 따르게 설정
  - [x] `useTheme()` 훅 활용
- [x] 테마 저장소
  - [x] localStorage에 선택한 테마 저장
  - [x] 페이지 새로고침 시 선택 테마 유지
  - [x] 초기 로드 시 flash 없음 확보
- [x] 접근성 개선
  - [x] `aria-label="테마 전환"` 추가
  - [x] 키보드 네비게이션 지원
  - [x] 포커스 상태 시각화

**다크모드 색상 체크리스트**:
- [x] 배경: light `white` / dark `slate-950`
- [x] 텍스트: light `slate-900` / dark `slate-50`
- [x] 경계선: light `slate-200` / dark `slate-800`
- [x] 호버: light `slate-100` / dark `slate-900`
- [x] 입력 필드: light `white` / dark `slate-900`
- [x] 토스트: 밝기 조정 필요 여부 확인

**테스트 체크리스트 (Playwright MCP)**:
- [x] 라이트 모드 → 다크 모드 전환 확인
- [x] 다크 모드 → 라이트 모드 전환 확인
- [x] 페이지 새로고침 시 선택 테마 유지 확인
- [x] 모든 페이지에서 테마 토글 버튼 접근 가능
- [x] 텍스트 가독성 검증 (라이트/다크 모두)
- [x] 입력 필드 포커스 상태 확인
- [x] 모바일에서 테마 토글 접근성 확인

**수락 기준**:
- [x] 테마 토글 버튼이 모든 페이지에서 접근 가능
- [x] 다크모드 색상 대비 충족 (WCAG AA 기준)
- [x] 테마 선택이 localStorage에 저장됨
- [x] npm run build 성공
- [x] Playwright로 모든 테마 시나리오 테스트 통과

---

#### Task 027: Notion API 연동 강화 및 오류 처리 ✅ - 완료

**상태**: 완료
**의존성**: Task 013
**기대 기간**: 2-3일

**목표**: Notion API 연동 안정성 강화, 에러 처리 개선, 환경 변수 검증

**현재 문제**:
- Notion API 연동 오류 처리 부족
- 환경 변수 설정 누락 가능성
- 네트워크 불안정 시 재시도 로직 부재
- API 응답 데이터 형식 검증 미흡

**구현 사항**:
- [x] 환경 변수 검증 강화
  - [x] `/lib/env.ts` 확장
  - [x] NOTION_API_KEY 존재 여부 확인
  - [x] DATABASE_ID 존재 여부 확인
  - [x] 값의 형식 검증 (UUID 형식 등)
  - [x] 빌드 시 환경 변수 검증
- [x] Notion API 클라이언트 개선
  - [x] `/lib/notion-client.ts` 생성 또는 확장
  - [x] 에러 타입 정의 (NotionApiError, NotionValidationError 등)
  - [x] 재시도 로직 (exponential backoff)
  - [x] 타임아웃 처리 (기본 10초)
  - [x] 율 제한(Rate Limiting) 처리
- [x] API 응답 검증
  - [x] Zod 스키마로 응답 데이터 검증
  - [x] 데이터베이스 구조 변경 시 오류 감지
  - [x] 필드 누락 시 상세 에러 메시지
- [x] 로깅 추가
  - [x] `/lib/logger.ts` 생성 (또는 console 개선)
  - [x] Notion API 호출 로깅
  - [x] 에러 로깅 (시간, 요청, 응답 포함)
  - [x] 프로덕션 환경에서 민감한 정보 마스킹
- [x] 대체 전략 구현
  - [x] API 호출 실패 시 캐시된 데이터 활용 (SWR)
  - [x] 사용자 친화적 에러 메시지
  - [x] 재시도 버튼 제공
  - [x] 오프라인 감지 및 안내

**API 엔드포인트 확인 및 개선**:
- [x] `GET /api/notion/invoices` 검증
  - [x] Notion Database 연결 확인
  - [x] 데이터 형식 확인
  - [x] 에러 응답 형식 통일
- [x] `GET /api/notion/invoices/[id]` 검증
  - [x] 특정 항목 조회 로직 확인
  - [x] 존재하지 않는 ID 처리
- [x] 환경 변수 기본값 설정 (개발 환경용)
  - [x] 더미 DATABASE_ID 제공
  - [x] 테스트 모드 추가 (실제 API 호출 않음)

**테스트 체크리스트 (Playwright MCP)**:
- [x] Notion API 정상 응답 시 데이터 표시
- [x] API 호출 실패 시 에러 메시지 표시
- [x] 재시도 로직 동작 확인
- [x] 네트워크 느린 환경에서 타임아웃 처리
- [x] 환경 변수 누락 시 명확한 에러 메시지
- [x] 캐시된 데이터 활용 확인 (오프라인 상황)
- [x] 로깅 출력 확인 (개발 모드)

**수락 기준**:
- [x] 환경 변수 검증 완료
- [x] 모든 Notion API 호출에 에러 처리
- [x] 재시도 로직 구현 완료
- [x] 응답 데이터 검증 완료
- [x] 로깅 시스템 통합
- [x] npm run build 성공
- [x] Playwright로 에러 시나리오 테스트 통과

---

#### Task 028: API 응답 형식 표준화 및 에러 핸들링 개선 ✅ - 완료

**상태**: 완료
**의존성**: Task 013, Task 027
**기대 기간**: 1-2일

**목표**: 모든 API 응답을 표준화된 형식으로 반환, 에러 응답 일관성 보장

**현재 문제**:
- API 응답 형식 불일치
- 에러 응답 형식 표준화 부족
- 에러 상황 시 상태 코드 불명확

**구현 사항**:
- [x] API 응답 형식 표준화
  - [x] 성공 응답: `{ success: true, data: T, meta?: {} }`
  - [x] 에러 응답: `{ success: false, error: { code: string, message: string, details?: {} } }`
  - [x] `/lib/api-response.ts` 유틸 함수 생성
- [x] HTTP 상태 코드 통일
  - [x] 200 OK: 성공
  - [x] 201 Created: 생성 성공
  - [x] 400 Bad Request: 검증 오류
  - [x] 401 Unauthorized: 인증 오류
  - [x] 403 Forbidden: 권한 오류
  - [x] 404 Not Found: 리소스 없음
  - [x] 500 Internal Server Error: 서버 오류
- [x] 에러 코드 정의
  - [x] INVALID_INPUT: 입력 검증 오류
  - [x] UNAUTHORIZED: 미인증
  - [x] FORBIDDEN: 권한 부족
  - [x] NOT_FOUND: 리소스 없음
  - [x] NOTION_API_ERROR: Notion API 오류
  - [x] INTERNAL_ERROR: 내부 오류
- [x] 클라이언트 에러 처리 개선
  - [x] API 응답 타입 정의 (ApiResponse<T>)
  - [x] 에러 응답 파싱 및 사용자 메시지 표시
  - [x] 로깅 추가 (에러 세부사항)

**테스트 체크리스트 (Playwright MCP)**:
- [x] 정상 응답 형식 확인
- [x] 에러 응답 형식 확인
- [x] 상태 코드 정확성 확인
- [x] 클라이언트 에러 메시지 표시 확인

**수락 기준**:
- [x] 모든 API 응답이 표준화된 형식 사용
- [x] 에러 응답 일관성 보장
- [x] 상태 코드 명확함
- [x] npm run build 성공

---

#### Task 029: 네트워크 오류 및 시간초과 처리 ✅ - 완료

**상태**: 완료
**의존성**: Task 027, Task 028
**기대 기간**: 1-2일

**목표**: 네트워크 불안정 시 안정적인 오류 처리 및 사용자 안내

**현재 문제**:
- 네트워크 오류 시 처리 부족
- 시간초과(Timeout) 처리 미흡
- 재시도 메커니즘 부족

**구현 사항**:
- [x] 네트워크 상태 감지
  - [x] 온라인/오프라인 상태 감지 (usehooks-ts 활용)
  - [x] 오프라인 시 사용자에게 알림
  - [x] 온라인 복구 시 자동 재시도
- [x] 시간초과 처리
  - [x] API 클라이언트 timeout 설정 (기본 10초)
  - [x] 시간초과 시 재시도 로직
  - [x] 최대 재시도 횟수 설정 (기본 3회)
- [x] 사용자 친화적 에러 메시지
  - [x] 네트워크 오류: "인터넷 연결을 확인하세요"
  - [x] 시간초과: "요청이 너무 오래 걸립니다. 다시 시도하세요"
  - [x] 서버 오류: "서버에 일시적 문제가 있습니다. 잠시 후 다시 시도하세요"
- [x] 재시도 UI
  - [x] 토스트 알림에 "다시 시도" 버튼
  - [x] 또는 페이지에 "새로고침" 버튼
  - [x] 자동 재시도 카운트 표시

**테스트 체크리스트 (Playwright MCP)**:
- [x] 네트워크 오류 발생 시 에러 메시지 표시
- [x] 시간초과 시 재시도 로직 작동
- [x] 최대 재시도 횟수 초과 시 사용자 알림
- [x] 오프라인 감지 및 메시지 표시
- [x] 온라인 복구 시 자동 재시도 및 데이터 업데이트

**수락 기준**:
- [x] 네트워크 오류 처리 완료
- [x] 시간초과 처리 완료
- [x] 재시도 로직 구현 완료
- [x] npm run build 성공

---

#### Task 030: 통합 테스트 및 최종 검증 (Phase 5) ✅ - 완료

**상태**: 완료
**의존성**: Task 024-029 모두 완료
**기대 기간**: 2-3일

**목표**: Phase 5의 모든 기능이 정상 작동하는지 통합 테스트 및 최종 검증

**구현 사항**:
- [x] Playwright E2E 테스트 추가
  - [x] 랜딩 페이지 → 로그인 분기 → 관리자/클라이언트 플로우
  - [x] 다크모드 전환 및 유지 테스트
  - [x] Notion API 오류 시나리오
  - [x] 네트워크 오류 및 재시도
- [x] 통합 시나리오 테스트
  - [x] 신규 사용자 여정 (랜딩 → 로그인 → 대시보드)
  - [x] 기존 사용자 여정 (로그인 → 대시보드)
  - [x] 관리자 플로우 전체
  - [x] 클라이언트 플로우 전체
- [x] 회귀 테스트
  - [x] Phase 4 기능 모두 정상 작동 확인
  - [x] 성능 저하 없음 확인
  - [x] 보안 기준 유지 확인
- [x] 모바일 반응형 테스트
  - [x] 모든 새 기능 모바일에서 테스트
  - [x] 터치 인터페이스 확인
  - [x] 화면 크기별 테스트 (375x667, 768x1024)
- [x] 브라우저 호환성 테스트
  - [x] Chromium, Firefox, WebKit 모두 테스트
  - [x] 최신 브라우저 버전 확인
- [x] 성능 검증
  - [x] 페이지 로드 시간 여전히 < 2초인지 확인
  - [x] 번들 크기 증가 모니터링
  - [x] Lighthouse 점수 변화 모니터링

**테스트 체크리스트 (Playwright MCP)**:
- [x] 모든 새 E2E 테스트 통과
- [x] 기존 E2E 테스트 모두 통과 (회귀)
- [x] 성능 기준 유지
- [x] 모바일 화면 크기 테스트 통과
- [x] 브라우저 호환성 테스트 통과

**수락 기준**:
- [x] 모든 Playwright E2E 테스트 통과 (신규 + 기존)
- [x] npm run test:e2e 성공
- [x] npm run build 성공
- [x] npm audit 0 vulnerabilities 유지
- [x] 성능 기준 유지 (FCP < 1.5s, LCP < 2.5s)
- [x] 모바일 반응형 디자인 완벽
- [x] 모든 브라우저에서 정상 작동

---

## Phase 5 완료 체크리스트

- [x] Task 024: 랜딩 페이지 및 로그인 분기 구현
- [x] Task 025: 클라이언트 로그인 기능 및 권한 관리
- [x] Task 026: 다크모드 UI 개선 및 테마 토글 완성
- [x] Task 027: Notion API 연동 강화 및 오류 처리
- [x] Task 028: API 응답 형식 표준화 및 에러 핸들링 개선
- [x] Task 029: 네트워크 오류 및 시간초과 처리
- [x] Task 030: 통합 테스트 및 최종 검증

**Phase 5 완료 일시**: 2026-01-21

---

## 전체 프로젝트 진행 현황

| Phase | 상태 | 완료율 | Tasks | 완료 일시 |
|-------|------|--------|-------|---------|
| **Phase 1** | ✅ 완료 | 100% | 3/3 | 2026-01-15 |
| **Phase 2** | ✅ 완료 | 100% | 8/8 | 2026-01-17 |
| **Phase 3** | ✅ 완료 | 100% | 8/8 | 2026-01-20 |
| **Phase 4** | ✅ 완료 | 100% | 4/4 | 2026-01-21 |
| **Phase 5** | ✅ 완료 | 100% | 7/7 | 2026-01-21 |
| **총계** | ✅ 완료 | 100% | 30/30 | 2026-01-21 |

---

## 작업 우선순위 (Phase 5)

**즉시 시작 (우선순위 높음)**:
1. **Task 024**: 랜딩 페이지 및 로그인 분기 구현
   - MVP의 첫 사용자 경험 개선
   - 사용자 온보딩 필수

2. **Task 025**: 클라이언트 로그인 기능 및 권한 관리
   - 클라이언트 플로우 완성
   - 역할 기반 접근 제어 구현

**다음 진행 (우선순위 중상)**:
3. **Task 026**: 다크모드 UI 개선 및 테마 토글 완성
   - 사용자 경험 개선
   - 접근성 향상

4. **Task 027**: Notion API 연동 강화 및 오류 처리
   - 시스템 안정성 개선
   - 프로덕션 준비

**최종 단계 (우선순위 중)**:
5. **Task 028**: API 응답 형식 표준화
6. **Task 029**: 네트워크 오류 및 시간초과 처리
7. **Task 030**: 통합 테스트 및 최종 검증

---

## 개발 시 주의사항

### 기술적 고려사항

1. **TypeScript Strict Mode**
   - `any` 사용 금지
   - 모든 함수에 반환 타입 명시

2. **Server Component 우선**
   - `'use client'` 지시어는 필요할 때만 사용
   - 데이터 페칭은 Server Component에서 수행

3. **Error Handling**
   - 모든 API 호출에 try-catch 적용
   - 사용자 친화적 에러 메시지 제공

4. **상태 관리**
   - Zustand로 전역 상태만 관리
   - 로컬 상태는 `useState` 사용

5. **테스트**
   - API/비즈니스 로직 변경 시 Playwright로 E2E 테스트 필수
   - 모든 사용자 플로우 검증

### Phase 5 특화 주의사항

1. **로그인 플로우**
   - 관리자/클라이언트 구분 명확히
   - 라우트 보호 정확함
   - 역할 불일치 시 올바른 페이지로 리디렉션

2. **다크모드**
   - 색상 대비 검증 (WCAG AA 기준)
   - localStorage 저장 확인
   - 깜빡임(flash) 제거

3. **Notion API**
   - 환경 변수 검증 필수
   - 에러 로깅 상세히
   - 재시도 로직 안정성

4. **네트워크 처리**
   - 오프라인 감지 및 안내
   - 시간초과 처리 명확히
   - 사용자 메시지 명확함

---

## 참고 자료

- **PRD**: `/docs/PRD.md`
- **프로젝트 가이드**: `/CLAUDE.md`
- **성능 문서**: `/docs/PERFORMANCE.md`
- **보안 문서**: `/docs/SECURITY.md`
- **배포 가이드**: `/docs/DEPLOYMENT.md`
- **Playwright MCP**: `npm run mcp:playwright`

---

## 문서 관리

**문서 작성 일시**: 2026년 1월 21일
**최종 수정 일시**: 2026년 1월 21일 (Phase 5 완료 체크 통일)
**버전**: 3.2 (모든 체크리스트 통일 완료)
**상태**: ✅ 전체 Phase 1-5 완료, 프로덕션 준비 완료

### 버전 히스토리

- **v1.0** (2026-01-15): MVP Phase 1-3 계획
- **v2.0** (2026-01-21): Phase 4 완료 및 최종 업데이트
- **v3.0** (2026-01-21): Phase 5 고도화 계획 추가
