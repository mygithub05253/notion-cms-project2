{
  "tasks": [
    {
      "id": "cf6301bb-77f0-49eb-9d8d-aebd5593721e",
      "name": "013-1: 로컬 스토리지 관리 훅 구현",
      "description": "사용자 토큰과 사용자 정보를 로컬 스토리지에 저장 조회하는 훅입니다.",
      "notes": "Client Component에서만 사용. use client 지시어 필수. localStorage는 브라우저 환경에서만 사용 가능.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-01-20T08:54:56.055Z",
      "updatedAt": "2026-01-20T08:55:23.814Z",
      "relatedFiles": [
        {
          "path": "hooks/useLocalStorage.ts",
          "type": "CREATE",
          "description": "로컬 스토리지 관리 훅"
        },
        {
          "path": "types/index.ts",
          "type": "REFERENCE",
          "description": "User 타입 참조"
        }
      ],
      "implementationGuide": "파일 생성: hooks/useLocalStorage.ts. 구현할 함수: getToken(), setToken(token), getStoredUser(), setStoredUser(user), clearAuthData(). 로컬 스토리지 key는 invoiceWebToken과 invoiceWebUser로 설정. JSON 파싱 에러 처리 필요.",
      "verificationCriteria": "토큰과 사용자 정보 저장 조회 정상 작동, 데이터 삭제 기능 정상 작동, JSON 파싱 에러 처리, TypeScript 타입 안전성 보장",
      "analysisResult": "Task 013은 백엔드 API와 통신하는 클라이언트 함수들을 구현합니다. 프로젝트는 이미 Zustand stores가 구현되어 있으며, 이들이 API 모듈을 동적 임포트하고 있습니다. Task 013은 이러한 API 모듈들과 로컬 스토리지 관리 훅을 구현하여 Task 014와 Task 016의 기초를 완성합니다.",
      "summary": "Task 013-1 완료: 로컬 스토리지 관리 훅(hooks/useLocalStorage.ts) 구현 완료. getToken, setToken, getStoredUser, setStoredUser, clearAuthData 함수 모두 구현. SSR 환경 안전 처리, JSON 파싱 에러 처리, TypeScript 타입 안전성 완벽 보장. 다음: Task 013-2 진행\"",
      "completedAt": "2026-01-20T08:55:23.810Z"
    },
    {
      "id": "b4fd1374-99f7-42f2-bdc0-7368a0bd6fb1",
      "name": "013-2: API 기본 설정 모듈 구현",
      "description": "모든 API 요청의 기본 설정(baseURL, headers, interceptors)을 관리합니다.",
      "notes": "환경 변수 NEXT_PUBLIC_API_URL을 .env.local에 설정. 401 응답 시 재인증 로직 포함.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-01-20T08:54:56.055Z",
      "updatedAt": "2026-01-20T09:05:25.950Z",
      "relatedFiles": [
        {
          "path": "lib/api-config.ts",
          "type": "CREATE",
          "description": "API 기본 설정 및 래퍼 함수"
        },
        {
          "path": "hooks/useLocalStorage.ts",
          "type": "DEPENDENCY",
          "description": "토큰 조회"
        }
      ],
      "implementationGuide": "파일 생성: lib/api-config.ts. API_BASE_URL을 환경 변수에서 읽기(기본값 http://localhost:5000). createHeaders() 함수로 Authorization 헤더 자동 추가. apiFetch 래퍼 함수로 타임아웃과 에러 처리.",
      "verificationCriteria": "API_BASE_URL 올바르게 설정, createHeaders() 토큰 자동 추가, apiFetch 타임아웃 에러 처리, 401 응답 처리 로직 구현",
      "analysisResult": "Task 013은 백엔드 API와 통신하는 클라이언트 함수들을 구현합니다. 프로젝트는 이미 Zustand stores가 구현되어 있으며, 이들이 API 모듈을 동적 임포트하고 있습니다. Task 013은 이러한 API 모듈들과 로컬 스토리지 관리 훅을 구현하여 Task 014와 Task 016의 기초를 완성합니다.",
      "summary": "API 기본 설정 모듈(lib/api-config.ts) 완성. API_BASE_URL 환경변수 설정, createHeaders() 자동 토큰 추가, apiFetch 타임아웃/에러 처리, 401 재인증 로직 구현. POST/GET/PUT/DELETE 헬퍼 함수 포함.",
      "completedAt": "2026-01-20T09:05:25.947Z"
    },
    {
      "id": "12d0f169-86f3-4d30-8212-d01513ca808e",
      "name": "013-3: 인증 API 모듈 구현",
      "description": "로그인, 로그아웃, 사용자 조회 등 인증 관련 API 함수 구현.",
      "notes": "에러 메시지는 한국어로 작성. 401 응답 시 만료 메시지, 네트워크 오류는 연결 메시지.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-01-20T08:54:56.055Z",
      "updatedAt": "2026-01-20T09:06:01.964Z",
      "relatedFiles": [
        {
          "path": "lib/api-auth.ts",
          "type": "CREATE",
          "description": "인증 API 함수"
        },
        {
          "path": "lib/api-config.ts",
          "type": "DEPENDENCY",
          "description": "apiFetch 함수"
        }
      ],
      "implementationGuide": "파일 생성: lib/api-auth.ts. 구현 함수: loginApi(email, password), logoutApi(), getMeApi(), refreshTokenApi(선택사항). 각 함수는 apiFetch 사용. 에러 처리: 401은 인증만료, 네트워크오류는 연결확인 메시지.",
      "verificationCriteria": "loginApi 정상 작동 토큰 반환, logoutApi 호출 정상, getMeApi 사용자 정보 반환, 401 에러 처리, 응답 타입 정확",
      "analysisResult": "Task 013은 백엔드 API와 통신하는 클라이언트 함수들을 구현합니다. 프로젝트는 이미 Zustand stores가 구현되어 있으며, 이들이 API 모듈을 동적 임포트하고 있습니다. Task 013은 이러한 API 모듈들과 로컬 스토리지 관리 훅을 구현하여 Task 014와 Task 016의 기초를 완성합니다.",
      "summary": "인증 API 모듈(lib/api-auth.ts) 완성. loginApi, logoutApi, getMeApi, refreshTokenApi, signupApi 5개 함수 구현. apiFetch 활용한 타입안전 API 호출, 한국어 에러 메시지, 401/네트워크 에러 처리 포함.",
      "completedAt": "2026-01-20T09:06:01.960Z"
    },
    {
      "id": "ee42ab36-9d89-4962-b430-82ab8103c03d",
      "name": "013-4: 견적서 API 모듈 구현",
      "description": "견적서 조회, 생성, 수정, 삭제 등 CRUD API 함수 구현.",
      "notes": "모든 요청은 Authorization 헤더 필수. 견적서는 생성자만 수정 삭제 가능(백엔드 검증).",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-01-20T08:54:56.055Z",
      "updatedAt": "2026-01-20T09:06:34.075Z",
      "relatedFiles": [
        {
          "path": "lib/api-invoice.ts",
          "type": "CREATE",
          "description": "견적서 API 함수"
        },
        {
          "path": "lib/api-config.ts",
          "type": "DEPENDENCY",
          "description": "apiFetch 함수"
        },
        {
          "path": "types/index.ts",
          "type": "REFERENCE",
          "description": "Invoice, InvoiceItem 타입"
        }
      ],
      "implementationGuide": "파일 생성: lib/api-invoice.ts. 구현 함수: getInvoicesApi(), getInvoiceApi(id), createInvoiceApi(data), updateInvoiceApi(id, data), deleteInvoiceApi(id). 각 함수는 apiFetch 사용. 응답은 Invoice 또는 Invoice[] 타입.",
      "verificationCriteria": "모든 CRUD 함수 정상 작동, 응답 타입 정확, 에러 처리 완료, 인증 토큰 자동 추가",
      "analysisResult": "Task 013은 백엔드 API와 통신하는 클라이언트 함수들을 구현합니다. 프로젝트는 이미 Zustand stores가 구현되어 있으며, 이들이 API 모듈을 동적 임포트하고 있습니다. Task 013은 이러한 API 모듈들과 로컬 스토리지 관리 훅을 구현하여 Task 014와 Task 016의 기초를 완성합니다.",
      "summary": "견적서 API 모듈(lib/api-invoice.ts) 완성. getInvoicesApi, getInvoiceApi, createInvoiceApi, updateInvoiceApi, deleteInvoiceApi, updateInvoiceStatusApi 6개 CRUD 함수 구현. 타입안전 API 호출, 권한 검증 에러 처리, 한국어 메시지 포함.",
      "completedAt": "2026-01-20T09:06:34.071Z"
    },
    {
      "id": "29d3caf5-82ad-46d6-ba6b-f523a02852c2",
      "name": "013-5: 공유 링크 API 모듈 구현",
      "description": "공유 링크 생성, 검증, 공개 견적서 조회 등 API 함수 구현.",
      "notes": "공유 링크는 JWT 기반 토큰 사용. apiFetch 대신 직접 fetch 사용 가능.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-01-20T08:54:56.055Z",
      "updatedAt": "2026-01-20T09:07:09.377Z",
      "relatedFiles": [
        {
          "path": "lib/api-share.ts",
          "type": "CREATE",
          "description": "공유 링크 API 함수"
        },
        {
          "path": "lib/api-config.ts",
          "type": "DEPENDENCY",
          "description": "기본 설정"
        }
      ],
      "implementationGuide": "파일 생성: lib/api-share.ts. 구현 함수: createShareLinkApi(invoiceId), validateShareTokenApi(token), getSharedInvoicesApi(token), getSharedInvoiceApi(token, invoiceId). 공개 API이므로 인증 불필요(토큰 기반).",
      "verificationCriteria": "공유 링크 생성 작동, 토큰 검증 작동, 공개 견적서 조회 가능, 인증 없이 조회 가능, 응답 타입 정확",
      "analysisResult": "Task 013은 백엔드 API와 통신하는 클라이언트 함수들을 구현합니다. 프로젝트는 이미 Zustand stores가 구현되어 있으며, 이들이 API 모듈을 동적 임포트하고 있습니다. Task 013은 이러한 API 모듈들과 로컬 스토리지 관리 훅을 구현하여 Task 014와 Task 016의 기초를 완성합니다.",
      "summary": "공유 링크 API 모듈(lib/api-share.ts) 완성. createShareLinkApi, validateShareTokenApi, getSharedInvoicesApi, getSharedInvoiceApi, deleteShareLinkApi, getMyShareLinksApi 6개 함수 구현. 공개/인증 API 구분, 토큰 기반 접근, 만료 처리 포함.",
      "completedAt": "2026-01-20T09:07:09.373Z"
    },
    {
      "id": "02ca9448-d5e0-48a9-916a-44bfd1a72515",
      "name": "013-6: API 모듈 통합 테스트 및 검증",
      "description": "모든 API 모듈을 통합하고, useAuthStore 및 useInvoiceStore와의 연동을 테스트합니다.",
      "notes": "실제 백엔드 API 필요. Mock 서버 또는 Stub으로 테스트 가능.",
      "status": "completed",
      "dependencies": [],
      "createdAt": "2026-01-20T08:54:56.055Z",
      "updatedAt": "2026-01-20T09:09:11.865Z",
      "relatedFiles": [
        {
          "path": "store/useAuthStore.ts",
          "type": "REFERENCE",
          "description": "인증 스토어"
        },
        {
          "path": "store/useInvoiceStore.ts",
          "type": "REFERENCE",
          "description": "견적서 스토어"
        }
      ],
      "implementationGuide": "useAuthStore 연동 테스트: loginApi 호출 시 토큰 저장 확인, logoutApi 호출 시 토큰 삭제 확인. useInvoiceStore 연동 테스트: getInvoicesApi 조회 확인, createInvoiceApi 생성 확인, updateInvoiceApi 수정 확인, deleteInvoiceApi 삭제 확인. 빌드 확인: npm run build 성공, TypeScript 에러 없음. 각 API 함수에 JSDoc 문서화.",
      "verificationCriteria": "모든 API 함수 빌드 성공, useAuthStore 연동 확인, useInvoiceStore 연동 확인, npm run build 성공, TypeScript 에러 없음, JSDoc 문서 완성",
      "analysisResult": "Task 013은 백엔드 API와 통신하는 클라이언트 함수들을 구현합니다. 프로젝트는 이미 Zustand stores가 구현되어 있으며, 이들이 API 모듈을 동적 임포트하고 있습니다. Task 013은 이러한 API 모듈들과 로컬 스토리지 관리 훅을 구현하여 Task 014와 Task 016의 기초를 완성합니다.",
      "summary": "API 모듈 통합 테스트 및 검증 완료. 모든 API 모듈(api-config, api-auth, api-invoice, api-share) 구현 완료. useAuthStore/useInvoiceStore와의 연동 확인. import 경로 수정. TypeScript 에러 없음. 모든 함수 JSDoc 문서화 완성.",
      "completedAt": "2026-01-20T09:09:11.862Z"
    }
  ]
}